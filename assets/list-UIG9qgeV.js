import{j as n,r as c,P as o,L as u}from"./index-DxGLTUF6.js";import{b as g}from"./blogApiClient-eCm80WTT.js";function d(e){const t="page-item "+(e.data.prevPage===null?"disabled":""),a=()=>e.onClick(e.data.prevPage);return n.jsx("li",{className:t,children:n.jsx("button",{className:"page-link","aria-label":"Previous",onClick:a,children:n.jsx("span",{"aria-hidden":"true",children:"«"})})})}function m(e){const t="page-item "+(e.data.nextPage===null?"disabled":""),a=()=>e.onClick(e.data.nextPage);return n.jsx("li",{className:t,children:n.jsx("button",{className:"page-link","aria-label":"Next",onClick:a,children:n.jsx("span",{"aria-hidden":"true",children:"»"})})})}function x(e){return e.pages.map((t,a)=>{const r="page-item "+(t.number==e.pageNumber?"active":""),l=()=>e.onClick(t.number);return n.jsx("li",{className:r,children:n.jsx("button",{className:"page-link",onClick:l,children:t.title})},a)})}function f(e){const t=[];let l=e.pageNumber-3,s=e.pageNumber+3;if(l<1&&(l=1),s>e.pageCount&&(s=e.pageCount),l>1){const i=l-10;t.push({title:"1...",number:1}),i>1&&t.push({title:"..."+i+"...",number:i})}for(let i=l;i<=s;i++)t.push({title:i,number:i});if(s<e.pageCount){const i=s+10;i<e.pageCount&&t.push({title:"..."+i+"...",number:i}),t.push({title:"..."+e.pageCount,number:e.pageCount})}return t}function P(e){const t=e.paginateDto;if(t.totalCount==0||t.pageCount==1)return null;const a=f(t);return n.jsxs("ul",{className:"pagination mt-3",children:[n.jsx(d,{data:e.paginateDto,onClick:e.onClick}),n.jsx(x,{pages:a,pageNumber:t.pageNumber,onClick:e.onClick}),n.jsx(m,{data:e.paginateDto,onClick:e.onClick})]})}const h=e=>n.jsx(n.Fragment,{children:e.paginateDto.collection.map((t,a)=>n.jsx("div",{className:"card mt-3",children:n.jsxs("div",{className:"card-body",children:[n.jsx("b",{children:n.jsx(u,{to:"/blog/"+t.id,children:t.title})}),n.jsx("br",{}),n.jsx("span",{children:t.description})]})},a))});function C(){const[e,t]=c.useState(new o),[a,r]=c.useState(1),l=function(s){s!==null&&(r(s),e.pageNumber=s,t(e))};return c.useEffect(()=>{g.fetchPaginate(a,10).then(s=>{t(s)})},[a]),n.jsxs(n.Fragment,{children:[n.jsx("h1",{children:"Статьи блога"}),n.jsx(h,{paginateDto:e}),n.jsx(P,{paginateDto:e,onClick:l})]})}export{C as default};
