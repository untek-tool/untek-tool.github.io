var u=Object.defineProperty;var d=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var c=(e,t,a)=>(d(e,typeof t!="symbol"?t+"":t,a),a);import{r as l,d as i,j as n,H as h,A as f,M as b}from"./index-DxGLTUF6.js";import{S as p}from"./StringHelper-9amm-GR6.js";import{A as x,V as g}from"./aboutContactRender-OISfmk8M.js";class j{getAge(t){const a=new Date,o=new Date(t);let r=a.getFullYear()-o.getFullYear();const s=a.getMonth()-o.getMonth();return(s<0||s===0&&a.getDate()<o.getDate())&&r--,r}}const M=new j;function A(){const[e,t]=l.useState([]);return l.useEffect(()=>{i.getJson("contacts/list.json").then(a=>{t(a.contacts)})}),n.jsx(x,{contacts:e??[]})}function m({contacts:e}){return n.jsx("ul",{children:e.map(function(t,a){if(!(t.hasOwnProperty("isMain")&&t.isMain))return null;let r=g.emailIsValid(t.url),s=t.url;return r&&(s="mailto:"+s),n.jsxs("li",{style:{listStyleType:"none"},children:[t.icon?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:t.icon})," "]}):null,s?n.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:t.label?t.label:t.url}):n.jsx("span",{children:t.label})]},a)})})}function w(e){const t=e.entity,a=t.gender==="male"?"Мужчина":"Женщина",o=new Date(t.birthday),r=M.getAge(t.birthday),s=p.declOfNum(r,["год","года","лет"]);return n.jsxs(n.Fragment,{children:[n.jsx("h1",{children:t.fullName}),n.jsx("img",{src:t.photo,alt:"Мое фото",title:"Мое фото",style:{width:"200px"},className:"float-right rounded ml-3"}),n.jsxs("p",{children:[a,", ",r," ",s," (",o.toLocaleDateString(),")"]}),n.jsxs("p",{children:["Желаемая должность: ",n.jsx("b",{children:t.position})]}),n.jsx("div",{className:"mb-3",children:n.jsx(h,{children:t.aboutMe})}),n.jsx("h2",{className:"card-title",children:"Контакты"}),t.contacts?n.jsx(m,{contacts:t.contacts}):n.jsx(A,{})]})}function y(e){const t=new b;e.aboutMeMd&&(e.aboutMe=t.render(e.aboutMeMd))}async function C(e){if(e.aboutMeRef){const t=e.aboutMeRef.split(".").pop(),a=await i.getText(e.aboutMeRef);t.toLowerCase()==="md"?e.aboutMeMd=a:e.aboutMe=a}return y(e),e}class D extends f{constructor(){super(...arguments);c(this,"listUri","about/about.json")}fetchAll(){return super.fetchAll().then(a=>C(a))}}const R=new D;function E(){const[e,t]=l.useState({});return l.useEffect(()=>{R.fetchAll().then(a=>{t(a)})},[]),n.jsx(n.Fragment,{children:n.jsx(w,{entity:e})})}export{E as default};
